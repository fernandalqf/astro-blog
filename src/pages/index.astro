---
import Layout from '../layouts/Layout.astro';
import PostCard from '../components/PostCard.astro';

// Lê todos os posts da pasta "src/posts"
const posts = await Astro.glob('../posts/*.md');

// Ordena por data (mais recente primeiro)
posts.sort((a, b) => new Date(b.frontmatter.date) - new Date(a.frontmatter.date));

// Pega só os últimos 5
const latestPosts = posts.slice(0, 5);
---

<Layout>
  <h1 class="text-4xl font-bold mb-6 text-blue-500">Últimos Posts</h1>

  <div class="grid gap-4">
    {latestPosts.map((post) => (
      <PostCard
        title={post.frontmatter.title}
        description={post.frontmatter.description}
        date={post.frontmatter.date}
        url={post.url}
      />
    ))}
  </div>
</Layout>
